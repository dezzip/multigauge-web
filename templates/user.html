<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/style.css" />
    <link rel="stylesheet" href="/static/css/post.css" />
    <link rel="stylesheet" href="/static/css/navbar.css" />
    <link rel="stylesheet" href="/static/css/footer.css" />
    <link rel="stylesheet" href="/static/css/common.css" />
    <link href='https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap' rel='stylesheet'>
    <title>{{ user.username }} - Dezzip</title>
    <style>
        @media (max-width: 640px) {
            .page-header-content .title { flex-direction: column; align-items: flex-start; gap: 16px; }
            .page-header-content .title .flex-row.items-center.gap-lg { gap: 12px; }
            .page-header-content .title .flex-row.items-center.gap-lg img { width: 56px; height: 56px; }
            .page-header-content .title .flex-row.gap-xl { gap: 16px; }
        }
    </style>
  </head>
  <body>
    {% include 'navbar.html' %}

    <div class="page">
      <div class="page-header">
        <div class="page-header-content margined">
          <div class="title">
            <div class="flex-row items-center gap-lg">
              <img src="/static/images/gauge.png" width="80" height="80" style="border-radius: 50%; border: 2px solid var(--light-background-color);">
              <div>
                <h1 style="font-size: var(--font-size-2xl);">
                  {% if user.role == "moderator" %}
                    <span style="color: var(--text-muted); font-size: var(--font-size-sm); font-weight: 500;">MOD</span>
                  {% elif user.role == "admin" %}
                    <span style="color: var(--accent-color); font-size: var(--font-size-sm); font-weight: 500;">ADMIN</span>
                  {% endif %}
                  {{ user.username }}
                </h1>
              </div>
            </div>

            <div class="flex-row gap-xl">
              <div class="text-center">
                <p style="font-size: var(--font-size-xl); font-weight: 600;">{{ total_likes }}</p>
                <p style="color: var(--text-muted); font-size: var(--font-size-sm);">Likes</p>
              </div>
              <div class="text-center">
                <p style="font-size: var(--font-size-xl); font-weight: 600;">{{ post_count }}</p>
                <p style="color: var(--text-muted); font-size: var(--font-size-sm);">Posts</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="page-content margined">
      {% if user_posts %}
        <div class="flex-row justify-between items-center" style="padding: var(--space-lg) 0 var(--space-sm);">
          <h2 style="font-size: var(--font-size-xl);">Latest Posts</h2>
        </div>
        <div class="post-grid">
          {% import 'macros/post_card.html' as post_macros %}
          {% for post in user_posts %}
            {{ post_macros.render_post(post, show_user=False) }}
          {% endfor %}
        </div>
      {% else %}
        <div style="text-align: center; padding: var(--space-2xl) 0;">
          <p style="color: var(--text-muted);">No posts yet.</p>
        </div>
      {% endif %}
    </div>

    {% include 'footer.html' %}
    <script src="/static/js/gaugePreview.js" type="module"></script>
  </body>
</html>
